{"version":3,"sources":["test_utils.js"],"names":[],"mappings":"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","file":"test_utils-compiled.js","sourcesContent":["module('utils');\n\n// for the tests, all hammer properties and methods of Hammer are exposed to window.$H\n\ntest('get/set prefixed util', function() {\n    ok(_.isUndefined($H.prefixed(window, 'FakeProperty')), 'non existent property returns undefined');\n\n    window.webkitFakeProperty = 1337;\n    ok($H.prefixed(window, 'FakeProperty') == 'webkitFakeProperty', 'existent prefixed property returns the prefixed name');\n\n    delete window.webkitFakeProperty;\n});\n\ntest('fnBind', function() {\n    var context = { a: true };\n\n    $H.bindFn(function(b) {\n        ok(this.a === true, 'bindFn scope');\n        ok(b === 123, 'bindFn argument');\n    }, context)(123);\n});\n\ntest('Inherit objects', function() {\n    function Base() {\n        this.name = true;\n    }\n\n    function Child() {\n        Base.call(this);\n    }\n\n    $H.inherit(Child, Base, {\n        newMethod: function() {\n        }\n    });\n\n    var inst = new Child();\n\n    ok(inst.name == true, 'child has extended from base');\n    ok(inst.newMethod, 'child has a new method');\n    ok(Child.prototype.newMethod, 'child has a new prototype method');\n    ok(inst instanceof Child, 'is instanceof Child');\n    ok(inst instanceof Base, 'is instanceof Base');\n    ok(inst._super === Base.prototype, '_super is ref to prototype of Base');\n});\n\ntest('toArray', function() {\n    ok(_.isArray($H.toArray({ 0: true, 1: 'second', length: 2 })), 'converted an array-like object to an array');\n    ok(_.isArray($H.toArray([true, true])), 'array stays an array');\n});\n\ntest('inArray', function() {\n    ok($H.inArray([1, 2, 3, 4, 'hammer'], 'hammer') === 4, 'found item and returned the index');\n    ok($H.inArray([1, 2, 3, 4, 'hammer'], 'notfound') === -1, 'not found an item and returned -1');\n    ok($H.inArray([\n        {id: 2},\n        {id: 24}\n    ], '24', 'id') === 1, 'find by key and return the index');\n    ok($H.inArray([\n        {id: 2},\n        {id: 24}\n    ], '22', 'id') === -1, 'not found by key and return -1');\n});\n\ntest('splitStr', function() {\n    deepEqual($H.splitStr(' a  b  c d   '), ['a', 'b', 'c', 'd'], 'str split valid');\n});\n\ntest('uniqueArray', function() {\n    deepEqual($H.uniqueArray([\n        {id: 1},\n        {id: 2},\n        {id: 2}\n    ], 'id'), [\n        {id: 1},\n        {id: 2}\n    ], 'remove duplicate ids')\n});\n\ntest('boolOrFn', function() {\n    equal($H.boolOrFn(true), true, 'Passing an boolean');\n    equal($H.boolOrFn(false), false, 'Passing an boolean');\n    equal($H.boolOrFn(function() {\n        return true;\n    }), true, 'Passing an boolean');\n    equal($H.boolOrFn(1), true, 'Passing an integer');\n});\n\ntest('hasParent', function() {\n    var parent = document.createElement('div'),\n        child = document.createElement('div');\n\n    document.body.appendChild(parent);\n    parent.appendChild(child);\n\n    equal($H.hasParent(child, parent), true, 'Found parent');\n    equal($H.hasParent(parent, child), false, 'Not in parent');\n\n    document.body.removeChild(parent);\n});\n\ntest('each', function() {\n    var object = { hi: true };\n    var array = ['a', 'b', 'c'];\n    var loop;\n\n    loop = false;\n    $H.each(object, function(value, key) {\n        if (key == 'hi' && value === true) {\n            loop = true;\n        }\n    });\n    ok(loop, 'object loop');\n\n    loop = 0;\n    $H.each(array, function(value, key) {\n        if (value) {\n            loop++;\n        }\n    });\n    ok(loop == 3, 'array loop');\n\n    loop = 0;\n    array.forEach = null;\n    $H.each(array, function(value, key) {\n        if (value) {\n            loop++;\n        }\n    });\n    ok(loop == 3, 'array loop without Array.forEach');\n});\n\ntest('assign', function() {\n    expect(2);\n    deepEqual(\n        $H.assign(\n            {a: 1, b: 3},\n            {b: 2, c: 3}\n        ),\n        {a: 1, b: 2, c: 3},\n        'Simple extend'\n    );\n\n    var src = { foo: true };\n    var dest = $H.assign({}, src);\n    src.foo = false;\n    deepEqual(dest, {foo: true}, 'Clone reference');\n});\n\ntest('test add/removeEventListener', function() {\n    function handleEvent() {\n        ok(true, 'triggered event');\n    }\n\n    expect(2);\n\n    $H.addEventListeners(window, 'testEvent1  testEvent2  ', handleEvent);\n    utils.triggerDomEvent(window, 'testEvent1');\n    utils.triggerDomEvent(window, 'testEvent2');\n\n    $H.removeEventListeners(window, ' testEvent1 testEvent2 ', handleEvent);\n    utils.triggerDomEvent(window, 'testEvent1');\n    utils.triggerDomEvent(window, 'testEvent2');\n});\n"]}
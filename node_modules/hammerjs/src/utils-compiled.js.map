{"version":3,"sources":["utils.js"],"names":[],"mappings":"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","file":"utils-compiled.js","sourcesContent":["var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\nvar TEST_ELEMENT = document.createElement('div');\n\nvar TYPE_FUNCTION = 'function';\n\nvar round = Math.round;\nvar abs = Math.abs;\nvar now = Date.now;\n\n/**\n * set a timeout with a given scope\n * @param {Function} fn\n * @param {Number} timeout\n * @param {Object} context\n * @returns {number}\n */\nfunction setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n}\n\n/**\n * if the argument is an array, we want to execute the fn on each entry\n * if it aint an array we don't want to do a thing.\n * this is used by all the methods that accept a single and array argument.\n * @param {*|Array} arg\n * @param {String} fn\n * @param {Object} [context]\n * @returns {Boolean}\n */\nfunction invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n        each(arg, context[fn], context);\n        return true;\n    }\n    return false;\n}\n\n/**\n * walk objects and arrays\n * @param {Object} obj\n * @param {Function} iterator\n * @param {Object} context\n */\nfunction each(obj, iterator, context) {\n    var i;\n\n    if (!obj) {\n        return;\n    }\n\n    if (obj.forEach) {\n        obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n        i = 0;\n        while (i < obj.length) {\n            iterator.call(context, obj[i], i, obj);\n            i++;\n        }\n    } else {\n        for (i in obj) {\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n        }\n    }\n}\n\n/**\n * wrap a method with a deprecation warning and stack trace\n * @param {Function} method\n * @param {String} name\n * @param {String} message\n * @returns {Function} A new function wrapping the supplied method.\n */\nfunction deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function() {\n        var e = new Error('get-stack-trace');\n        var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '')\n            .replace(/^\\s+at\\s+/gm, '')\n            .replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n\n        var log = window.console && (window.console.warn || window.console.log);\n        if (log) {\n            log.call(window.console, deprecationMessage, stack);\n        }\n        return method.apply(this, arguments);\n    };\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} target\n * @param {...Object} objects_to_assign\n * @returns {Object} target\n */\nvar assign;\nif (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n        if (target === undefined || target === null) {\n            throw new TypeError('Cannot convert undefined or null to object');\n        }\n\n        var output = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n            var source = arguments[index];\n            if (source !== undefined && source !== null) {\n                for (var nextKey in source) {\n                    if (source.hasOwnProperty(nextKey)) {\n                        output[nextKey] = source[nextKey];\n                    }\n                }\n            }\n        }\n        return output;\n    };\n} else {\n    assign = Object.assign;\n}\n\n/**\n * extend object.\n * means that properties in dest will be overwritten by the ones in src.\n * @param {Object} dest\n * @param {Object} src\n * @param {Boolean} [merge=false]\n * @returns {Object} dest\n */\nvar extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\n            dest[keys[i]] = src[keys[i]];\n        }\n        i++;\n    }\n    return dest;\n}, 'extend', 'Use `assign`.');\n\n/**\n * merge the values from src in the dest.\n * means that properties that exist in dest will not be overwritten by src\n * @param {Object} dest\n * @param {Object} src\n * @returns {Object} dest\n */\nvar merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n}, 'merge', 'Use `assign`.');\n\n/**\n * simple class inheritance\n * @param {Function} child\n * @param {Function} base\n * @param {Object} [properties]\n */\nfunction inherit(child, base, properties) {\n    var baseP = base.prototype,\n        childP;\n\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n\n    if (properties) {\n        assign(childP, properties);\n    }\n}\n\n/**\n * simple function bind\n * @param {Function} fn\n * @param {Object} context\n * @returns {Function}\n */\nfunction bindFn(fn, context) {\n    return function boundFn() {\n        return fn.apply(context, arguments);\n    };\n}\n\n/**\n * let a boolean value also be a function that must return a boolean\n * this first item in args will be used as the context\n * @param {Boolean|Function} val\n * @param {Array} [args]\n * @returns {Boolean}\n */\nfunction boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n        return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n}\n\n/**\n * use the val2 when val1 is undefined\n * @param {*} val1\n * @param {*} val2\n * @returns {*}\n */\nfunction ifUndefined(val1, val2) {\n    return (val1 === undefined) ? val2 : val1;\n}\n\n/**\n * addEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction addEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.addEventListener(type, handler, false);\n    });\n}\n\n/**\n * removeEventListener with multiple events at once\n * @param {EventTarget} target\n * @param {String} types\n * @param {Function} handler\n */\nfunction removeEventListeners(target, types, handler) {\n    each(splitStr(types), function(type) {\n        target.removeEventListener(type, handler, false);\n    });\n}\n\n/**\n * find if a node is in the given parent\n * @method hasParent\n * @param {HTMLElement} node\n * @param {HTMLElement} parent\n * @return {Boolean} found\n */\nfunction hasParent(node, parent) {\n    while (node) {\n        if (node == parent) {\n            return true;\n        }\n        node = node.parentNode;\n    }\n    return false;\n}\n\n/**\n * small indexOf wrapper\n * @param {String} str\n * @param {String} find\n * @returns {Boolean} found\n */\nfunction inStr(str, find) {\n    return str.indexOf(find) > -1;\n}\n\n/**\n * split string on whitespace\n * @param {String} str\n * @returns {Array} words\n */\nfunction splitStr(str) {\n    return str.trim().split(/\\s+/g);\n}\n\n/**\n * find if a array contains the object using indexOf or a simple polyFill\n * @param {Array} src\n * @param {String} find\n * @param {String} [findByKey]\n * @return {Boolean|Number} false when not found, or the index\n */\nfunction inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n        return src.indexOf(find);\n    } else {\n        var i = 0;\n        while (i < src.length) {\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\n                return i;\n            }\n            i++;\n        }\n        return -1;\n    }\n}\n\n/**\n * convert array-like objects to real arrays\n * @param {Object} obj\n * @returns {Array}\n */\nfunction toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n}\n\n/**\n * unique array with objects based on a key (like 'id') or just by the array's value\n * @param {Array} src [{id:1},{id:2},{id:1}]\n * @param {String} [key]\n * @param {Boolean} [sort=False]\n * @returns {Array} [{id:1},{id:2}]\n */\nfunction uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n\n    while (i < src.length) {\n        var val = key ? src[i][key] : src[i];\n        if (inArray(values, val) < 0) {\n            results.push(src[i]);\n        }\n        values[i] = val;\n        i++;\n    }\n\n    if (sort) {\n        if (!key) {\n            results = results.sort();\n        } else {\n            results = results.sort(function sortUniqueArray(a, b) {\n                return a[key] > b[key];\n            });\n        }\n    }\n\n    return results;\n}\n\n/**\n * get the prefixed property\n * @param {Object} obj\n * @param {String} property\n * @returns {String|Undefined} prefixed\n */\nfunction prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n        prefix = VENDOR_PREFIXES[i];\n        prop = (prefix) ? prefix + camelProp : property;\n\n        if (prop in obj) {\n            return prop;\n        }\n        i++;\n    }\n    return undefined;\n}\n\n/**\n * get a unique id\n * @returns {number} uniqueId\n */\nvar _uniqueId = 1;\nfunction uniqueId() {\n    return _uniqueId++;\n}\n\n/**\n * get the window object of an element\n * @param {HTMLElement} element\n * @returns {DocumentView|Window}\n */\nfunction getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return (doc.defaultView || doc.parentWindow || window);\n}\n"]}
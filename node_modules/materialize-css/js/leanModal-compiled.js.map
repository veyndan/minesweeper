{"version":3,"sources":["leanModal.js"],"names":[],"mappings":"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","file":"leanModal-compiled.js","sourcesContent":["(function($) {\n    var _stack = 0,\n    _lastID = 0,\n    _generateID = function() {\n      _lastID++;\n      return 'materialize-lean-overlay-' + _lastID;\n    };\n\n  $.fn.extend({\n    openModal: function(options) {\n\n      var $body = $('body');\n      var oldWidth = $body.innerWidth();\n      $body.css('overflow', 'hidden');\n      $body.width(oldWidth);\n\n      var defaults = {\n        opacity: 0.5,\n        in_duration: 350,\n        out_duration: 250,\n        ready: undefined,\n        complete: undefined,\n        dismissible: true,\n        starting_top: '4%'\n      },\n      $modal = $(this);\n\n      if ($modal.hasClass('open')) {\n        return;\n      }\n\n      overlayID = _generateID();\n      $overlay = $('<div class=\"lean-overlay\"></div>');\n      lStack = (++_stack);\n\n      // Store a reference of the overlay\n      $overlay.attr('id', overlayID).css('z-index', 1000 + lStack * 2);\n      $modal.data('overlay-id', overlayID).css('z-index', 1000 + lStack * 2 + 1);\n      $modal.addClass('open');\n\n      $(\"body\").append($overlay);\n\n      // Override defaults\n      options = $.extend(defaults, options);\n\n      if (options.dismissible) {\n        $overlay.click(function() {\n          $modal.closeModal(options);\n        });\n        // Return on ESC\n        $(document).on('keyup.leanModal' + overlayID, function(e) {\n          if (e.keyCode === 27) {   // ESC key\n            $modal.closeModal(options);\n          }\n        });\n      }\n\n      $modal.find(\".modal-close\").on('click.close', function(e) {\n        $modal.closeModal(options);\n      });\n\n      $overlay.css({ display : \"block\", opacity : 0 });\n\n      $modal.css({\n        display : \"block\",\n        opacity: 0\n      });\n\n      $overlay.velocity({opacity: options.opacity}, {duration: options.in_duration, queue: false, ease: \"easeOutCubic\"});\n      $modal.data('associated-overlay', $overlay[0]);\n\n      // Define Bottom Sheet animation\n      if ($modal.hasClass('bottom-sheet')) {\n        $modal.velocity({bottom: \"0\", opacity: 1}, {\n          duration: options.in_duration,\n          queue: false,\n          ease: \"easeOutCubic\",\n          // Handle modal ready callback\n          complete: function() {\n            if (typeof(options.ready) === \"function\") {\n              options.ready();\n            }\n          }\n        });\n      }\n      else {\n        $.Velocity.hook($modal, \"scaleX\", 0.7);\n        $modal.css({ top: options.starting_top });\n        $modal.velocity({top: \"10%\", opacity: 1, scaleX: '1'}, {\n          duration: options.in_duration,\n          queue: false,\n          ease: \"easeOutCubic\",\n          // Handle modal ready callback\n          complete: function() {\n            if (typeof(options.ready) === \"function\") {\n              options.ready();\n            }\n          }\n        });\n      }\n\n\n    }\n  });\n\n  $.fn.extend({\n    closeModal: function(options) {\n      var defaults = {\n        out_duration: 250,\n        complete: undefined\n      },\n      $modal = $(this),\n      overlayID = $modal.data('overlay-id'),\n      $overlay = $('#' + overlayID);\n      $modal.removeClass('open');\n\n      options = $.extend(defaults, options);\n\n      // Enable scrolling\n      $('body').css({\n        overflow: '',\n        width: ''\n      });\n\n      $modal.find('.modal-close').off('click.close');\n      $(document).off('keyup.leanModal' + overlayID);\n\n      $overlay.velocity( { opacity: 0}, {duration: options.out_duration, queue: false, ease: \"easeOutQuart\"});\n\n\n      // Define Bottom Sheet animation\n      if ($modal.hasClass('bottom-sheet')) {\n        $modal.velocity({bottom: \"-100%\", opacity: 0}, {\n          duration: options.out_duration,\n          queue: false,\n          ease: \"easeOutCubic\",\n          // Handle modal ready callback\n          complete: function() {\n            $overlay.css({display:\"none\"});\n\n            // Call complete callback\n            if (typeof(options.complete) === \"function\") {\n              options.complete();\n            }\n            $overlay.remove();\n            _stack--;\n          }\n        });\n      }\n      else {\n        $modal.velocity(\n          { top: options.starting_top, opacity: 0, scaleX: 0.7}, {\n          duration: options.out_duration,\n          complete:\n            function() {\n\n              $(this).css('display', 'none');\n              // Call complete callback\n              if (typeof(options.complete) === \"function\") {\n                options.complete();\n              }\n              $overlay.remove();\n              _stack--;\n            }\n          }\n        );\n      }\n    }\n  });\n\n  $.fn.extend({\n    leanModal: function(option) {\n      return this.each(function() {\n\n        var defaults = {\n          starting_top: '4%'\n        },\n        // Override defaults\n        options = $.extend(defaults, option);\n\n        // Close Handlers\n        $(this).click(function(e) {\n          options.starting_top = ($(this).offset().top - $(window).scrollTop()) /1.15;\n          var modal_id = $(this).attr(\"href\") || '#' + $(this).data('target');\n          $(modal_id).openModal(options);\n          e.preventDefault();\n        }); // done set on click\n      }); // done return\n    }\n  });\n})(jQuery);\n"]}
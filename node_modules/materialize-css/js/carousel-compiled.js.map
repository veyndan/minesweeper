{"version":3,"sources":["carousel.js"],"names":[],"mappings":"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","file":"carousel-compiled.js","sourcesContent":["(function ($) {\n\n  var methods = {\n\n    init : function(options) {\n      var defaults = {\n        time_constant: 200, // ms\n        dist: -100, // zoom scale TODO: make this more intuitive as an option\n        shift: 0, // spacing for center image\n        padding: 0, // Padding between non center items\n        full_width: false // Change to full width styles\n      };\n      options = $.extend(defaults, options);\n\n      return this.each(function() {\n\n        var images, offset, center, pressed, dim, count,\n            reference, referenceY, amplitude, target, velocity,\n            xform, frame, timestamp, ticker, dragged, vertical_dragged;\n\n        // Initialize\n        var view = $(this);\n        // Don't double initialize.\n        if (view.hasClass('initialized')) {\n          return true;\n        }\n\n        // Options\n        if (options.full_width) {\n          options.dist = 0;\n          imageHeight = view.find('.carousel-item img').first().load(function(){\n            view.css('height', $(this).height());\n          });\n        }\n\n        view.addClass('initialized');\n        pressed = false;\n        offset = target = 0;\n        images = [];\n        item_width = view.find('.carousel-item').first().innerWidth();\n        dim = item_width * 2 + options.padding;\n\n        view.find('.carousel-item').each(function () {\n          images.push($(this)[0]);\n        });\n\n        count = images.length;\n\n\n        function setupEvents() {\n          if (typeof window.ontouchstart !== 'undefined') {\n            view[0].addEventListener('touchstart', tap);\n            view[0].addEventListener('touchmove', drag);\n            view[0].addEventListener('touchend', release);\n          }\n          view[0].addEventListener('mousedown', tap);\n          view[0].addEventListener('mousemove', drag);\n          view[0].addEventListener('mouseup', release);\n          view[0].addEventListener('click', click);\n        }\n\n        function xpos(e) {\n          // touch event\n          if (e.targetTouches && (e.targetTouches.length >= 1)) {\n            return e.targetTouches[0].clientX;\n          }\n\n          // mouse event\n          return e.clientX;\n        }\n\n        function ypos(e) {\n          // touch event\n          if (e.targetTouches && (e.targetTouches.length >= 1)) {\n            return e.targetTouches[0].clientY;\n          }\n\n          // mouse event\n          return e.clientY;\n        }\n\n        function wrap(x) {\n          return (x >= count) ? (x % count) : (x < 0) ? wrap(count + (x % count)) : x;\n        }\n\n        function scroll(x) {\n          var i, half, delta, dir, tween, el, alignment, xTranslation;\n\n          offset = (typeof x === 'number') ? x : offset;\n          center = Math.floor((offset + dim / 2) / dim);\n          delta = offset - center * dim;\n          dir = (delta < 0) ? 1 : -1;\n          tween = -dir * delta * 2 / dim;\n\n          if (!options.full_width) {\n            alignment = 'translateX(' + (view[0].clientWidth - item_width) / 2 + 'px) ';\n            alignment += 'translateY(' + (view[0].clientHeight - item_width) / 2 + 'px)';\n          } else {\n            alignment = 'translateX(0)';\n          }\n\n          // center\n          el = images[wrap(center)];\n          el.style[xform] = alignment +\n            ' translateX(' + (-delta / 2) + 'px)' +\n            ' translateX(' + (dir * options.shift * tween * i) + 'px)' +\n            ' translateZ(' + (options.dist * tween) + 'px)';\n          el.style.zIndex = 0;\n          if (options.full_width) { tweenedOpacity = 1; }\n          else { tweenedOpacity = 1 - 0.2 * tween; }\n          el.style.opacity = tweenedOpacity;\n          half = count >> 1;\n\n          for (i = 1; i <= half; ++i) {\n            // right side\n            if (options.full_width) {\n              zTranslation = options.dist;\n              tweenedOpacity = (i === half && delta < 0) ? 1 - tween : 1;\n            } else {\n              zTranslation = options.dist * (i * 2 + tween * dir);\n              tweenedOpacity = 1 - 0.2 * (i * 2 + tween * dir);\n            }\n            el = images[wrap(center + i)];\n            el.style[xform] = alignment +\n              ' translateX(' + (options.shift + (dim * i - delta) / 2) + 'px)' +\n              ' translateZ(' + zTranslation + 'px)';\n            el.style.zIndex = -i;\n            el.style.opacity = tweenedOpacity;\n\n\n            // left side\n            if (options.full_width) {\n              zTranslation = options.dist;\n              tweenedOpacity = (i === half && delta > 0) ? 1 - tween : 1;\n            } else {\n              zTranslation = options.dist * (i * 2 - tween * dir);\n              tweenedOpacity = 1 - 0.2 * (i * 2 - tween * dir);\n            }\n            el = images[wrap(center - i)];\n            el.style[xform] = alignment +\n              ' translateX(' + (-options.shift + (-dim * i - delta) / 2) + 'px)' +\n              ' translateZ(' + zTranslation + 'px)';\n            el.style.zIndex = -i;\n            el.style.opacity = tweenedOpacity;\n          }\n\n          // center\n          el = images[wrap(center)];\n          el.style[xform] = alignment +\n            ' translateX(' + (-delta / 2) + 'px)' +\n            ' translateX(' + (dir * options.shift * tween) + 'px)' +\n            ' translateZ(' + (options.dist * tween) + 'px)';\n          el.style.zIndex = 0;\n          if (options.full_width) { tweenedOpacity = 1; }\n          else { tweenedOpacity = 1 - 0.2 * tween; }\n          el.style.opacity = tweenedOpacity;\n        }\n\n        function track() {\n          var now, elapsed, delta, v;\n\n          now = Date.now();\n          elapsed = now - timestamp;\n          timestamp = now;\n          delta = offset - frame;\n          frame = offset;\n\n          v = 1000 * delta / (1 + elapsed);\n          velocity = 0.8 * v + 0.2 * velocity;\n        }\n\n        function autoScroll() {\n          var elapsed, delta;\n\n          if (amplitude) {\n            elapsed = Date.now() - timestamp;\n            delta = amplitude * Math.exp(-elapsed / options.time_constant);\n            if (delta > 2 || delta < -2) {\n                scroll(target - delta);\n                requestAnimationFrame(autoScroll);\n            } else {\n                scroll(target);\n            }\n          }\n        }\n\n        function click(e) {\n          // Disable clicks if carousel was dragged.\n          if (dragged) {\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n\n          } else if (!options.full_width) {\n            var clickedIndex = $(e.target).closest('.carousel-item').index();\n            var diff = (center % count) - clickedIndex;\n\n            // Account for wraparound.\n            if (diff < 0) {\n              if (Math.abs(diff + count) < Math.abs(diff)) { diff += count; }\n\n            } else if (diff > 0) {\n              if (Math.abs(diff - count) < diff) { diff -= count; }\n            }\n\n            // Call prev or next accordingly.\n            if (diff < 0) {\n              $(this).trigger('carouselNext', [Math.abs(diff)]);\n\n            } else if (diff > 0) {\n              $(this).trigger('carouselPrev', [diff]);\n            }\n          }\n        }\n\n        function tap(e) {\n          pressed = true;\n          dragged = false;\n          vertical_dragged = false;\n          reference = xpos(e);\n          referenceY = ypos(e);\n\n          velocity = amplitude = 0;\n          frame = offset;\n          timestamp = Date.now();\n          clearInterval(ticker);\n          ticker = setInterval(track, 100);\n\n        }\n\n        function drag(e) {\n          var x, delta, deltaY;\n          if (pressed) {\n            x = xpos(e);\n            y = ypos(e);\n            delta = reference - x;\n            deltaY = Math.abs(referenceY - y);\n            if (deltaY < 30 && !vertical_dragged) {\n              // If vertical scrolling don't allow dragging.\n              if (delta > 2 || delta < -2) {\n                dragged = true;\n                reference = x;\n                scroll(offset + delta);\n              }\n\n            } else if (dragged) {\n              // If dragging don't allow vertical scroll.\n              e.preventDefault();\n              e.stopPropagation();\n              return false;\n\n            } else {\n              // Vertical scrolling.\n              vertical_dragged = true;\n            }\n          }\n\n          if (dragged) {\n            // If dragging don't allow vertical scroll.\n            e.preventDefault();\n            e.stopPropagation();\n            return false;\n          }\n        }\n\n        function release(e) {\n          pressed = false;\n\n          clearInterval(ticker);\n          target = offset;\n          if (velocity > 10 || velocity < -10) {\n            amplitude = 0.9 * velocity;\n            target = offset + amplitude;\n          }\n          target = Math.round(target / dim) * dim;\n          amplitude = target - offset;\n          timestamp = Date.now();\n          requestAnimationFrame(autoScroll);\n\n          e.preventDefault();\n          e.stopPropagation();\n          return false;\n        }\n\n        xform = 'transform';\n        ['webkit', 'Moz', 'O', 'ms'].every(function (prefix) {\n          var e = prefix + 'Transform';\n          if (typeof document.body.style[e] !== 'undefined') {\n            xform = e;\n            return false;\n          }\n          return true;\n        });\n\n\n\n        window.onresize = scroll;\n\n        setupEvents();\n        scroll(offset);\n\n        $(this).on('carouselNext', function(e, n) {\n          if (n === undefined) {\n            n = 1;\n          }\n          target = offset + dim * n;\n          if (offset !== target) {\n            amplitude = target - offset;\n            timestamp = Date.now();\n            requestAnimationFrame(autoScroll);\n          }\n        });\n\n        $(this).on('carouselPrev', function(e, n) {\n          if (n === undefined) {\n            n = 1;\n          }\n          target = offset - dim * n;\n          if (offset !== target) {\n            amplitude = target - offset;\n            timestamp = Date.now();\n            requestAnimationFrame(autoScroll);\n          }\n        });\n\n      });\n\n\n\n    },\n    next : function(n) {\n      $(this).trigger('carouselNext', [n]);\n    },\n    prev : function(n) {\n      $(this).trigger('carouselPrev', [n]);\n    },\n  };\n\n\n    $.fn.carousel = function(methodOrOptions) {\n      if ( methods[methodOrOptions] ) {\n        return methods[ methodOrOptions ].apply( this, Array.prototype.slice.call( arguments, 1 ));\n      } else if ( typeof methodOrOptions === 'object' || ! methodOrOptions ) {\n        // Default to \"init\"\n        return methods.init.apply( this, arguments );\n      } else {\n        $.error( 'Method ' +  methodOrOptions + ' does not exist on jQuery.carousel' );\n      }\n    }; // Plugin end\n}( jQuery ));"]}
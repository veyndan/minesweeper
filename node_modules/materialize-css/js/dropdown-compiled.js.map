{"version":3,"sources":["dropdown.js"],"names":[],"mappings":"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","file":"dropdown-compiled.js","sourcesContent":["(function ($) {\n\n  // Add posibility to scroll to selected option\n  // usefull for select for example\n  $.fn.scrollTo = function(elem) {\n    $(this).scrollTop($(this).scrollTop() - $(this).offset().top + $(elem).offset().top);\n    return this;\n  };\n\n  $.fn.dropdown = function (option) {\n    var defaults = {\n      inDuration: 300,\n      outDuration: 225,\n      constrain_width: true, // Constrains width of dropdown to the activator\n      hover: false,\n      gutter: 0, // Spacing from edge\n      belowOrigin: false,\n      alignment: 'left'\n    };\n\n    this.each(function(){\n    var origin = $(this);\n    var options = $.extend({}, defaults, option);\n    var isFocused = false;\n\n    // Dropdown menu\n    var activates = $(\"#\"+ origin.attr('data-activates'));\n\n    function updateOptions() {\n      if (origin.data('induration') !== undefined)\n        options.inDuration = origin.data('inDuration');\n      if (origin.data('outduration') !== undefined)\n        options.outDuration = origin.data('outDuration');\n      if (origin.data('constrainwidth') !== undefined)\n        options.constrain_width = origin.data('constrainwidth');\n      if (origin.data('hover') !== undefined)\n        options.hover = origin.data('hover');\n      if (origin.data('gutter') !== undefined)\n        options.gutter = origin.data('gutter');\n      if (origin.data('beloworigin') !== undefined)\n        options.belowOrigin = origin.data('beloworigin');\n      if (origin.data('alignment') !== undefined)\n        options.alignment = origin.data('alignment');\n    }\n\n    updateOptions();\n\n    // Attach dropdown to its activator\n    origin.after(activates);\n\n    /*\n      Helper function to position and resize dropdown.\n      Used in hover and click handler.\n    */\n    function placeDropdown(eventType) {\n      // Check for simultaneous focus and click events.\n      if (eventType === 'focus') {\n        isFocused = true;\n      }\n\n      // Check html data attributes\n      updateOptions();\n\n      // Set Dropdown state\n      activates.addClass('active');\n      origin.addClass('active');\n\n      // Constrain width\n      if (options.constrain_width === true) {\n        activates.css('width', origin.outerWidth());\n\n      } else {\n        activates.css('white-space', 'nowrap');\n      }\n\n      // Offscreen detection\n      var windowHeight = window.innerHeight;\n      var originHeight = origin.innerHeight();\n      var offsetLeft = origin.offset().left;\n      var offsetTop = origin.offset().top - $(window).scrollTop();\n      var currAlignment = options.alignment;\n      var gutterSpacing = 0;\n      var leftPosition = 0;\n\n      // Below Origin\n      var verticalOffset = 0;\n      if (options.belowOrigin === true) {\n        verticalOffset = originHeight;\n      }\n\n      // Check for scrolling positioned container.\n      var scrollOffset = 0;\n      var wrapper = origin.parent();\n      if (!wrapper.is('body') && wrapper[0].scrollHeight > wrapper[0].clientHeight) {\n        scrollOffset = wrapper[0].scrollTop;\n      }\n\n\n      if (offsetLeft + activates.innerWidth() > $(window).width()) {\n        // Dropdown goes past screen on right, force right alignment\n        currAlignment = 'right';\n\n      } else if (offsetLeft - activates.innerWidth() + origin.innerWidth() < 0) {\n        // Dropdown goes past screen on left, force left alignment\n        currAlignment = 'left';\n      }\n      // Vertical bottom offscreen detection\n      if (offsetTop + activates.innerHeight() > windowHeight) {\n        // If going upwards still goes offscreen, just crop height of dropdown.\n        if (offsetTop + originHeight - activates.innerHeight() < 0) {\n          var adjustedHeight = windowHeight - offsetTop - verticalOffset;\n          activates.css('max-height', adjustedHeight);\n        } else {\n          // Flow upwards.\n          if (!verticalOffset) {\n            verticalOffset += originHeight;\n          }\n          verticalOffset -= activates.innerHeight();\n        }\n      }\n\n      // Handle edge alignment\n      if (currAlignment === 'left') {\n        gutterSpacing = options.gutter;\n        leftPosition = origin.position().left + gutterSpacing;\n      }\n      else if (currAlignment === 'right') {\n        var offsetRight = origin.position().left + origin.outerWidth() - activates.outerWidth();\n        gutterSpacing = -options.gutter;\n        leftPosition =  offsetRight + gutterSpacing;\n      }\n\n      // Position dropdown\n      activates.css({\n        position: 'absolute',\n        top: origin.position().top + verticalOffset + scrollOffset,\n        left: leftPosition\n      });\n\n\n      // Show dropdown\n      activates.stop(true, true).css('opacity', 0)\n        .slideDown({\n        queue: false,\n        duration: options.inDuration,\n        easing: 'easeOutCubic',\n        complete: function() {\n          $(this).css('height', '');\n        }\n      })\n        .animate( {opacity: 1}, {queue: false, duration: options.inDuration, easing: 'easeOutSine'});\n    }\n\n    function hideDropdown() {\n      // Check for simultaneous focus and click events.\n      isFocused = false;\n      activates.fadeOut(options.outDuration);\n      activates.removeClass('active');\n      origin.removeClass('active');\n      setTimeout(function() { activates.css('max-height', ''); }, options.outDuration);\n    }\n\n    // Hover\n    if (options.hover) {\n      var open = false;\n      origin.unbind('click.' + origin.attr('id'));\n      // Hover handler to show dropdown\n      origin.on('mouseenter', function(e){ // Mouse over\n        if (open === false) {\n          placeDropdown();\n          open = true;\n        }\n      });\n      origin.on('mouseleave', function(e){\n        // If hover on origin then to something other than dropdown content, then close\n        var toEl = e.toElement || e.relatedTarget; // added browser compatibility for target element\n        if(!$(toEl).closest('.dropdown-content').is(activates)) {\n          activates.stop(true, true);\n          hideDropdown();\n          open = false;\n        }\n      });\n\n      activates.on('mouseleave', function(e){ // Mouse out\n        var toEl = e.toElement || e.relatedTarget;\n        if(!$(toEl).closest('.dropdown-button').is(origin)) {\n          activates.stop(true, true);\n          hideDropdown();\n          open = false;\n        }\n      });\n\n    // Click\n    } else {\n      // Click handler to show dropdown\n      origin.unbind('click.' + origin.attr('id'));\n      origin.bind('click.'+origin.attr('id'), function(e){\n        if (!isFocused) {\n          if ( origin[0] == e.currentTarget &&\n               !origin.hasClass('active') &&\n               ($(e.target).closest('.dropdown-content').length === 0)) {\n            e.preventDefault(); // Prevents button click from moving window\n            placeDropdown('click');\n          }\n          // If origin is clicked and menu is open, close menu\n          else if (origin.hasClass('active')) {\n            hideDropdown();\n            $(document).unbind('click.'+ activates.attr('id') + ' touchstart.' + activates.attr('id'));\n          }\n          // If menu open, add click close handler to document\n          if (activates.hasClass('active')) {\n            $(document).bind('click.'+ activates.attr('id') + ' touchstart.' + activates.attr('id'), function (e) {\n              if (!activates.is(e.target) && !origin.is(e.target) && (!origin.find(e.target).length) ) {\n                hideDropdown();\n                $(document).unbind('click.'+ activates.attr('id') + ' touchstart.' + activates.attr('id'));\n              }\n            });\n          }\n        }\n      });\n\n    } // End else\n\n    // Listen to open and close event - useful for select component\n    origin.on('open', function(e, eventType) {\n      placeDropdown(eventType);\n    });\n    origin.on('close', hideDropdown);\n\n\n   });\n  }; // End dropdown plugin\n\n  $(document).ready(function(){\n    $('.dropdown-button').dropdown();\n  });\n}( jQuery ));\n"]}
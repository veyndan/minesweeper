{"version":3,"sources":["materialbox.js"],"names":[],"mappings":"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","file":"materialbox-compiled.js","sourcesContent":["(function ($) {\n\n  $.fn.materialbox = function () {\n\n    return this.each(function() {\n\n      if ($(this).hasClass('initialized')) {\n        return;\n      }\n\n      $(this).addClass('initialized');\n\n      var overlayActive = false;\n      var doneAnimating = true;\n      var inDuration = 275;\n      var outDuration = 200;\n      var origin = $(this);\n      var placeholder = $('<div></div>').addClass('material-placeholder');\n      var originalWidth = 0;\n      var originalHeight = 0;\n      var ancestorsChanged;\n      var ancestor;\n      origin.wrap(placeholder);\n\n\n      origin.on('click', function(){\n        var placeholder = origin.parent('.material-placeholder');\n        var windowWidth = window.innerWidth;\n        var windowHeight = window.innerHeight;\n        var originalWidth = origin.width();\n        var originalHeight = origin.height();\n\n\n        // If already modal, return to original\n        if (doneAnimating === false) {\n          returnToOriginal();\n          return false;\n        }\n        else if (overlayActive && doneAnimating===true) {\n          returnToOriginal();\n          return false;\n        }\n\n\n        // Set states\n        doneAnimating = false;\n        origin.addClass('active');\n        overlayActive = true;\n\n        // Set positioning for placeholder\n        placeholder.css({\n          width: placeholder[0].getBoundingClientRect().width,\n          height: placeholder[0].getBoundingClientRect().height,\n          position: 'relative',\n          top: 0,\n          left: 0\n        });\n\n        // Find ancestor with overflow: hidden; and remove it\n        ancestorsChanged = undefined;\n        ancestor = placeholder[0].parentNode;\n        var count = 0;\n        while (ancestor !== null && !$(ancestor).is(document)) {\n          var curr = $(ancestor);\n          if (curr.css('overflow') !== 'visible') {\n            curr.css('overflow', 'visible');\n            if (ancestorsChanged === undefined) {\n              ancestorsChanged = curr;\n            }\n            else {\n              ancestorsChanged = ancestorsChanged.add(curr);\n            }\n          }\n          ancestor = ancestor.parentNode;\n        }\n\n        // Set css on origin\n        origin.css({position: 'absolute', 'z-index': 1000})\n        .data('width', originalWidth)\n        .data('height', originalHeight);\n\n        // Add overlay\n        var overlay = $('<div id=\"materialbox-overlay\"></div>')\n          .css({\n            opacity: 0\n          })\n          .click(function(){\n            if (doneAnimating === true)\n            returnToOriginal();\n          });\n          // Animate Overlay\n          // Put before in origin image to preserve z-index layering.\n          origin.before(overlay);\n          overlay.velocity({opacity: 1},\n                           {duration: inDuration, queue: false, easing: 'easeOutQuad'} );\n\n        // Add and animate caption if it exists\n        if (origin.data('caption') !== \"\") {\n          var $photo_caption = $('<div class=\"materialbox-caption\"></div>');\n          $photo_caption.text(origin.data('caption'));\n          $('body').append($photo_caption);\n          $photo_caption.css({ \"display\": \"inline\" });\n          $photo_caption.velocity({opacity: 1}, {duration: inDuration, queue: false, easing: 'easeOutQuad'});\n        }\n\n        // Resize Image\n        var ratio = 0;\n        var widthPercent = originalWidth / windowWidth;\n        var heightPercent = originalHeight / windowHeight;\n        var newWidth = 0;\n        var newHeight = 0;\n\n        if (widthPercent > heightPercent) {\n          ratio = originalHeight / originalWidth;\n          newWidth = windowWidth * 0.9;\n          newHeight = windowWidth * 0.9 * ratio;\n        }\n        else {\n          ratio = originalWidth / originalHeight;\n          newWidth = (windowHeight * 0.9) * ratio;\n          newHeight = windowHeight * 0.9;\n        }\n\n        // Animate image + set z-index\n        if(origin.hasClass('responsive-img')) {\n          origin.velocity({'max-width': newWidth, 'width': originalWidth}, {duration: 0, queue: false,\n            complete: function(){\n              origin.css({left: 0, top: 0})\n              .velocity(\n                {\n                  height: newHeight,\n                  width: newWidth,\n                  left: $(document).scrollLeft() + windowWidth/2 - origin.parent('.material-placeholder').offset().left - newWidth/2,\n                  top: $(document).scrollTop() + windowHeight/2 - origin.parent('.material-placeholder').offset().top - newHeight/ 2\n                },\n                {\n                  duration: inDuration,\n                  queue: false,\n                  easing: 'easeOutQuad',\n                  complete: function(){doneAnimating = true;}\n                }\n              );\n            } // End Complete\n          }); // End Velocity\n        }\n        else {\n          origin.css('left', 0)\n          .css('top', 0)\n          .velocity(\n            {\n              height: newHeight,\n              width: newWidth,\n              left: $(document).scrollLeft() + windowWidth/2 - origin.parent('.material-placeholder').offset().left - newWidth/2,\n              top: $(document).scrollTop() + windowHeight/2 - origin.parent('.material-placeholder').offset().top - newHeight/ 2\n            },\n            {\n              duration: inDuration,\n              queue: false,\n              easing: 'easeOutQuad',\n              complete: function(){doneAnimating = true;}\n            }\n            ); // End Velocity\n        }\n\n    }); // End origin on click\n\n\n      // Return on scroll\n      $(window).scroll(function() {\n        if (overlayActive) {\n          returnToOriginal();\n        }\n      });\n\n      // Return on ESC\n      $(document).keyup(function(e) {\n\n        if (e.keyCode === 27 && doneAnimating === true) {   // ESC key\n          if (overlayActive) {\n            returnToOriginal();\n          }\n        }\n      });\n\n\n      // This function returns the modaled image to the original spot\n      function returnToOriginal() {\n\n          doneAnimating = false;\n\n          var placeholder = origin.parent('.material-placeholder');\n          var windowWidth = window.innerWidth;\n          var windowHeight = window.innerHeight;\n          var originalWidth = origin.data('width');\n          var originalHeight = origin.data('height');\n\n          origin.velocity(\"stop\", true);\n          $('#materialbox-overlay').velocity(\"stop\", true);\n          $('.materialbox-caption').velocity(\"stop\", true);\n\n\n          $('#materialbox-overlay').velocity({opacity: 0}, {\n            duration: outDuration, // Delay prevents animation overlapping\n            queue: false, easing: 'easeOutQuad',\n            complete: function(){\n              // Remove Overlay\n              overlayActive = false;\n              $(this).remove();\n            }\n          });\n\n          // Resize Image\n          origin.velocity(\n            {\n              width: originalWidth,\n              height: originalHeight,\n              left: 0,\n              top: 0\n            },\n            {\n              duration: outDuration,\n              queue: false, easing: 'easeOutQuad'\n            }\n          );\n\n          // Remove Caption + reset css settings on image\n          $('.materialbox-caption').velocity({opacity: 0}, {\n            duration: outDuration, // Delay prevents animation overlapping\n            queue: false, easing: 'easeOutQuad',\n            complete: function(){\n              placeholder.css({\n                height: '',\n                width: '',\n                position: '',\n                top: '',\n                left: ''\n              });\n\n              origin.css({\n                height: '',\n                top: '',\n                left: '',\n                width: '',\n                'max-width': '',\n                position: '',\n                'z-index': ''\n              });\n\n              // Remove class\n              origin.removeClass('active');\n              doneAnimating = true;\n              $(this).remove();\n\n              // Remove overflow overrides on ancestors\n              if (ancestorsChanged) {\n                ancestorsChanged.css('overflow', '');\n              }\n            }\n          });\n\n        }\n        });\n};\n\n$(document).ready(function(){\n  $('.materialboxed').materialbox();\n});\n\n}( jQuery ));\n"]}
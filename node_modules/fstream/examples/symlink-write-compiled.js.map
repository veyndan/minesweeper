{"version":3,"sources":["symlink-write.js"],"names":[],"mappings":"AAAA,IAAI,UAAU,QAAQ,eAAR,CAAd;AAAA,IACI,SAAS,KADb;;AAGA,QACG,MADH,CACU,EAAE,MAAM,iBAAR;AACE,YAAU,QADZ;AAEE,kBAAgB,IAFlB;AAGE,QAAM,M;AAHR,CADV,EAMG,EANH,CAMM,OANN,EAMe,YAAY;AACvB,WAAS,IAAT;AACA,MAAI,KAAK,QAAQ,IAAR,CAAT;AACA,MAAI,IAAI,GAAG,SAAH,CAAa,iBAAb,CAAR;AACA,MAAI,QAAQ,EAAE,cAAF,EAAZ;AACA,UAAQ,GAAR,CAAY,CAAC,QAAM,EAAN,GAAS,MAAV,IAAmB,wBAA/B;AACA,MAAI,IAAI,GAAG,YAAH,CAAgB,iBAAhB,CAAR;AACA,MAAI,WAAW,MAAM,QAArB;AACA,UAAQ,GAAR,CAAY,CAAC,WAAS,EAAT,GAAY,MAAb,IAAsB,4BAAlC;AACD,CAfH,EAgBG,GAhBH;;AAkBA,QAAQ,EAAR,CAAW,MAAX,EAAmB,YAAY;AAC7B,UAAQ,GAAR,CAAY,CAAC,SAAO,EAAP,GAAU,MAAX,IAAmB,uBAA/B;AACD,CAFD","file":"symlink-write-compiled.js","sourcesContent":["var fstream = require(\"../fstream.js\")\n  , closed = false\n\nfstream\n  .Writer({ path: \"path/to/symlink\"\n          , linkpath: \"./file\"\n          , isSymbolicLink: true\n          , mode: \"0755\" // octal strings supported\n          })\n  .on(\"close\", function () {\n    closed = true\n    var fs = require(\"fs\")\n    var s = fs.lstatSync(\"path/to/symlink\")\n    var isSym = s.isSymbolicLink()\n    console.log((isSym?\"\":\"not \") +\"ok 1 should be symlink\")\n    var t = fs.readlinkSync(\"path/to/symlink\")\n    var isTarget = t === \"./file\"\n    console.log((isTarget?\"\":\"not \") +\"ok 2 should link to ./file\")\n  })\n  .end()\n\nprocess.on(\"exit\", function () {\n  console.log((closed?\"\":\"not \")+\"ok 3 should be closed\")\n})\n"]}